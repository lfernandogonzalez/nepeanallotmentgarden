<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="js/amazon-cognito-identity.min.js"></script>
  <script src="js/config.js"></script>
  <script type="text/javascript" src="js/profile.js"></script>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/profile.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.js"></script>
  <script>
    window.onload = function(){
      get_user();
    }
  </script>  
  
  
</head>

<body>
  
    <!--Header -->
    <div class="header">
      <div class="header_logo"><a href="index.html"><img src="img/logo.png"></a></div>
      <div class="header_title">Nepean Allotment<br> Garden Association</div>
      <div class="header_social">
        <a href="http://www.facebook.com/groups/261282425387342" target="_blank"><img src="img/facebook.png" width="20" border="0"></a>
        <a href="http://www.instagram.com/nepean_allotment_gardens/" target="_blank"><img src="img/Instagram.png" width="20" border="0"></a>
      </div>
    </div>


  
    <!-- Loader -->  
    <div id="loader" style="display:none; width:auto; text-align:center;"><img src="img/loader.gif" width="30"></div>
    
    <!-- Profile -->
    <div class="my_account">
      <h1>Member's area</h1>
      
      <p><span id="member_email"></span></p>

      <!-- My Plots-->
      <div class="my_plots"></div>
      <input type="checkbox" id="has_plots" style="display:none">

      <!--Request new plot -->
      <div class="request_plot" style="display:none">
        <h4>Request a new plot</h4>
        <p>
          Raised beds are often available within a year or even mid-season.
          Annuals take an average of 2+ years. Perennials are only available to existing members, and they take an average of 3+ years.
          Preference is given to existing members on all plots.
        </p>
        <p><b>What type of plot would you like?</b></p>
        <select id="request_plot_type">
          <option value="Raised bed">Raised bed</option>
          <option value="Annual">Annual</option>
          <option value="Perennial" id="perennial_option">Perennial</option>
          <option value="Locker">Locker</option>
        </select>
        
        <p><b>Plot number:</b></p>
        <select onchange="special_request(this.value)">
          <option>First available</option>
          <option value="true">Special request</option>
        </select>
        <input type="textarea" class="request_plot_number"  placeholder="Type in your request (eg, plot number)">
        
        <div id="exchange_plot_form" style="display:none">
          <b>Would you like to trade in one of your current plots?</b>
          <select id="request_plot_trade">
            <option value="No">No</option>
          </select>
        </div>

        <p></p>
        
        <input type="checkbox" onchange="document.getElementById('terms_button').disabled = !this.checked;" id="terms_checkbox">
        <label for="terms_checkbox">I have read and accept the </label>
        <a target="_blank" href="NAGA_Terms_and_Conditions_v2022.pdf">NAGA Terms and Conditions</a>
        
        <br><br>
        <input type="button" onclick="request_plot();" id="terms_button" value="Submit request" disabled>
        <input type="button" onclick="open_request_plot(false);" value="Cancel" style="background-color:tomato">
      </div>

        
      <!-- My Requested Plots -->
      <div class="requested_plots" style="display:none">
        <h4>You are on our waiting list</h4>
        <p>We have received your plot request and you are currently on our waiting list:</p>
        <div>
          <b>Requested plot:</b> <span id="requested_plot_type"></span>
          <br><b>Plot number:</b> <span id="requested_plot_number"></span>
          <br><b>Date joined:</b> <span id="requested_date_joined"></span> 
    
        </div>
        
      </div>
      <input type="button" class="request_plot_button" onclick="open_request_plot(true);" value="Request new plot">
      <input type="button" class="cancel_plot_request_button" value="Cancel request" onclick="cancel_plot_request()">

      

      
      
      </div>
      
      <div class="user_action_buttons">
        <input type="button" class="edit_profile_button" onclick="open_edit_profile(true);" value="Edit Profile"> 
        
        <div id="admin_access" style="display:none">
          <input type="hidden" id="member_admin">
          <input type="button" onclick="window.location.href='./admin.html'" value="Admin Console">
        </div>
        <input type="button" onclick="sign_out();" value="Sign out">
      </div>

      <!-- Edit profile -->
      <div class="edit_profile" style="display:none">
        <h4>Edit profile</h4>
        <p>Please complete your profile information in order to expedite plot assignment. </p>
        <p><b>Name:</b></p>
        <input type="text" id="edit_profile_first_name" Placeholder="First Name" >
        <br>
        <input type="text" id="edit_profile_last_name" Placeholder="Last Name" > 

        <p><b>Address:</b></p>
        <input type="text" id="edit_profile_street_address" Placeholder="Street Address" >
        <br><input type="text" id="edit_profile_postal_code" Placeholder="Postal Code">
        
        <p><b>Phone Number:</b></p>
        <input  id="edit_profile_phone_number" type="text" Placeholder="000-000-0000">
        
        <p></p>
        <input type="button" onclick="update_profile();" value="Save" style="display:inline-block; "> 
        <input type="button" onclick="open_edit_profile(false);" value="Cancel" style="display:inline-block; background-color:tomato">
        </div>
        
      </div>

      <p></p>

      
    </div>

  


<!-- Overlay -->
<div id="overlay" class="overlay"></div>

</body>


</html>
